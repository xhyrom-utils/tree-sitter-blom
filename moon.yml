type: library

project:
  name: tree-sitter
  description: Tree-sitter parser for the Blom programming language

tasks:
  install:
    description: Install dependencies
    toolchain: system
    script: |-
      command -v bun &> /dev/null || { echo "Bun not found, installing..."; curl -fsSL https://bun.sh/install | bash; }
      bun install

  build:
    description: Builds the parser
    deps:
      - install
    command: bun run generate
    inputs:
      - "src/**/*"
